---
title: Agent 工具设计原则
date: 2026-02-14
category: AI/架构设计
tags: [agent, tool-design, prompt-engineering, token-optimization]
source: 
---

# Agent 工具设计原则

## 原始用户输入

```
编写高效工具的原则：
1、选择正确的工具 - 不要贪多、减少上下文浪费、合并功能、明确目的
2、命名空间管理 - 分组管理、实验验证
3、返回有意义的上下文 - 高信噪比、语义化ID、灵活响应格式
4、优化Token效率 - 控制数量、设定默认值、引导策略
5、提示工程化工具描述 - 清晰参数名、微调描述
```

---

## 结构化内容

### 一、选择正确的工具 (Choosing the right tools)

| 原则 | 说明 |
|------|------|
| **不要贪多** | 更多的工具不代表更好的结果 |
| **减少上下文浪费** | 不要让 Agent 遍历数据（如 list_contacts），应提供精准查找工具（如 Contacts） |
| **合并功能** | 多个简单工具 → 一个强大工具，内部处理细节（如 schedule_event 内部处理可用性检查） |
| **明确目的** | 每个工具应有清晰、独立的用途，避免重叠 |

### 二、命名空间管理 (Namespacing)

| 策略 | 说明 |
|------|------|
| **分组管理** | 工具成百上千时，使用前缀划分边界（如 asana_search, jira_search） |
| **实验验证** | 前缀还是后缀对性能有影响，通过评估来决定最佳方案 |

### 三、返回有意义的上下文

| 策略 | 说明 |
|------|------|
| **高信噪比** | 返回对决策有帮助的信息（如 name, image_url），而非低级技术标识符（如 uuid, mimetype） |
| **语义化 ID** | 将 UUID 转换为语义化名称或简单索引（如 0, 1, 2），显著减少幻觉 |
| **灵活响应格式** | 设计 response_format 参数，让 Agent 选择"详细"或"简洁"数据 |

### 四、优化 Token 效率

| 策略 | 说明 |
|------|------|
| **控制数量** | 实现分页、范围选择、过滤或截断 |
| **设定默认值** | 为可能返回大量数据的工具设定合理默认限制 |
| **引导策略** | 在工具描述或报错信息中引导 Agent 采取节省 Token 的策略 |

### 五、提示工程化工具描述

| 策略 | 说明 |
|------|------|
| **清晰参数名** | 使用无歧义的名称（如 user_id 代替 user） |
| **微调描述** | 微小的描述修改可能带来巨大性能提升，通过评估验证修改影响 |

---

*Created by Inspiration Manager*
*Timestamp: 2026-02-14*
